spec:
  containers:
  - name: code-server-gpu
    image: sfsenorthamerica-demo-cgoyette.registry.snowflakecomputing.com/container_hol_db/public/image_repo/code-server-conda:amd64-latest
    volumeMounts:
    - name: vscode-workspace
      mountPath: /config/workspace
    resources:                         
      requests:
        cpu: 16
        memory: 64Gi
        nvidia.com/gpu: 4
      limits:
        cpu: 32
        memory: 128Gi
        nvidia.com/gpu: 4
  endpoints:
  - name: code-server-gpu
    port: 8443
    public: true
  volumes:
  - name: vscode-workspace
    source: '@volumes/code-server-gpu'
    uid: 911
    gid: 911
  networkPolicyConfig:
      allowInternetEgress: true
